グランドステージ: 1.The Accumulator

フェーズ: BOSS Stage

ステージ名: The Accumulator

ステージ内容: IN命令を使って入力を読み取り、0が入力されるまで合計を累積し、最終的な合計をRAXに返す

学習ポイント: IN命令、ループ、条件判定、累積処理の組み合わせ

## 解説

このステージはボスステージで、これまで学んだすべての技術を組み合わせます。

- **IN命令**: 入力キューから値を読み取る
- **ループ**: 0が入力されるまで繰り返す
- **累積処理**: 読み取った値を合計に加算

## 正解コード

```asm
section .text
    global _start

_start:
    ; 合計を0で初期化
    xor rax, rax        ; RAX = 0（合計）

loop_start:
    ; 入力から値を読み取る
    in rdi              ; RDI = 入力値
    
    ; 入力値が0かチェック
    cmp rdi, 0
    jz done             ; 0なら終了
    
    ; 合計に加算
    add rax, rdi        ; RAX = RAX + RDI
    
    ; ループを継続
    jmp loop_start

done:
    ; 終了（RAXに合計が入っている）
    ret
```

## コード解説

1. `xor rax, rax` - RAXを0で初期化（合計の初期値）
2. `loop_start:` - ループの開始ラベル
3. `in rdi` - 入力キューから値を読み取り、RDIに格納
4. `cmp rdi, 0` - 読み取った値が0かチェック
5. `jz done` - 0なら終了ラベルにジャンプ
6. `add rax, rdi` - 合計に値を加算
7. `jmp loop_start` - ループの先頭に戻る
8. `done:` - 終了ラベル、RAXに合計が入っている

## ポイント

- IN命令は入力キューから値を1つずつ読み取ります
- 0が入力されるまでループを継続します
- 累積処理で合計を計算します
- このステージでは、これまで学んだすべての技術が使われます
